{% from "govuk/components/cookie-banner/macro.njk" import govukCookieBanner %}

<noscript>
  {{ govukCookieBanner({
    rebrand: true,
    ariaLabel: "Cookies on Calculate my progressive reductions",
    messages: [
      {
        headingText: "Cookies on Calculate my progressive reductions",
        text: "We use cookies to make this service work and collect analytics information. To accept or reject cookies, turn on JavaScript in your browser settings or reload this page."
      }
    ]
  }) }}
</noscript>

<div class="js-cookies-container" style="display:none">
  {% set html %}
  <p class="govuk-body">We use some essential cookies to make this service work.</p>
  <p class="govuk-body">We’d also like to use analytics cookies so we can understand how you use the service and make improvements.</p>
  {% endset %}

  {% set acceptHtml %}
  <p class="govuk-body">You’ve accepted analytics cookies. You can <a href="/cookies">change your cookie settings</a> at any time.</p>
  {% endset %}

  {% set rejectHtml %}
  <p class="govuk-body">You’ve rejected analytics cookies. You can <a href="/cookies">change your cookie settings</a> at any time.</p>
  {% endset %}

  {{ govukCookieBanner({
    rebrand: true,
    ariaLabel: "Cookies on Calculate my progressive reductions",
    classes: "js-cookies-banner",
    messages: [
      {
        headingText: "Cookies on Calculate my progressive reductions",
        html: html,
        classes: "js-question-banner",
        actions: [
          {
            text: "Accept analytics cookies",
            type: "button",
            name: "cookies",
            value: "accept",
            classes: "js-cookies-button-accept"
          },
          {
            text: "Reject analytics cookies",
            type: "button",
            name: "cookies",
            value: "reject",
            classes: "js-cookies-button-reject"
          },
          {
            text: "View cookies",
            href: "/cookies"
          }
        ]
      },
      {
        html: acceptHtml,
        role: "alert",
        hidden: true,
        classes: "js-cookies-accepted",
        actions: [
          { text: "Hide this message", classes: "js-hide" }
        ]
      },
      {
        html: rejectHtml,
        role: "alert",
        hidden: true,
        classes: "js-cookies-rejected",
        actions: [
          { text: "Hide this message", classes: "js-hide" }
        ]
      }
    ]
  }) }}
</div>

<% htmlWebpackPlugin.files.js.forEach(file => { %>
  <script src="<%= file.replace('../dist/', 'static/') %>"></script>
<% }) %>
